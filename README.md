# 萌哩壁纸 （moely-wallpaper）

一个精美的桌面壁纸应用，专为二次元爱好者设计。图图有惊喜，天天都心喜~

## ✨ 功能特性

### 🖼️ 壁纸浏览
- **3D轮播效果**：流畅的3D切换动画，支持左右滑动浏览
- **智能预加载**：自动预加载壁纸，提升浏览体验
- **多种操作方式**：支持键盘方向键、鼠标滚轮、点击切换
- **快速跳转**：底部指示器支持快速跳转到任意壁纸

### 🎯 壁纸设置
- **一键设置**：点击即可将当前壁纸设为桌面背景
- **自动设置模式**：开启后切换壁纸时自动设置为桌面背景
- **智能缓存**：自动下载并缓存壁纸到本地，离线也能使用

### 💾 缓存管理
- **本地缓存**：自动下载壁纸到本地，减少网络请求
- **缓存统计**：显示缓存数量和占用空间
- **一键清理**：支持清理所有缓存文件，释放磁盘空间
- **智能重试**：网络异常时自动重试下载

### 🎮 用户体验
- **新手引导**：首次使用提供详细的功能介绍
- **粒子背景**：美观的粒子动画背景效果
- **响应式设计**：适配不同屏幕尺寸
- **快捷键支持**：F1重新显示引导，方向键切换壁纸

### 🔗 外部链接
- **萌哩链接**：一键在萌哩网站查看高清原图
- **画师信息**：显示壁纸作者和来源信息

## 🚀 快速开始

### 环境要求
- Node.js 18.0 或更高版本
- npm 或 yarn 包管理器

### 安装依赖
```bash
npm install
```

### 开发模式
```bash
npm start
```
这将同时启动 React 开发服务器和 Electron 应用。

### 构建应用
```bash
# 构建 React 应用
npm run build:react

# 构建 Electron 应用
npm run build
```

### 打包分发
```bash
npm run dist
```
打包后的应用将生成在 `dist` 目录中。

## 📁 项目结构

```
moely-wallpaper/
├── src/
│   ├── main/                 # Electron 主进程
│   │   ├── main.js          # 主进程入口
│   │   └── imageCache.js    # 图片缓存管理
│   ├── renderer/            # React 渲染进程
│   │   ├── components/      # React 组件
│   │   │   ├── WallpaperViewer.js    # 壁纸查看器
│   │   │   ├── OnboardingTour.js     # 新手引导
│   │   │   ├── ParticleBackground.js # 粒子背景
│   │   │   └── TitleBar.js           # 标题栏
│   │   └── styles/          # 样式文件
│   ├── App.js               # React 应用入口
│   └── index.js             # React 渲染入口
├── public/                  # 静态资源
├── build/                   # 构建输出
├── dist/                    # 打包输出
└── package.json             # 项目配置
```

## 🎮 使用说明

### 基本操作
1. **浏览壁纸**：使用左右方向键、鼠标滚轮或点击两侧图片
2. **设置壁纸**：点击"设为壁纸"按钮
3. **自动模式**：开启"自动壁纸"开关，切换时自动设置
4. **快速跳转**：点击底部指示器快速跳转
5. **查看原图**：点击"在萌哩打开"按钮

### 缓存管理
1. 点击右上角 💾 按钮打开缓存管理面板
2. 查看缓存统计信息（数量和大小）
3. 点击"一键清理缓存"释放磁盘空间
4. 点击"刷新统计"更新缓存信息

### 快捷键
- `←` `→` 方向键：切换壁纸
- `F1`：重新显示新手引导
- `ESC`：跳过新手引导

## 🔧 技术栈

- **前端框架**：React 18.2.0
- **桌面应用**：Electron 28.1.0
- **构建工具**：Create React App + Electron Builder
- **网络请求**：Axios
- **壁纸设置**：wallpaper npm 包
- **样式**：CSS3 + 动画效果

## 📦 依赖说明

### 主要依赖
- `react` - React 框架
- `electron` - 桌面应用框架
- `axios` - HTTP 客户端
- `wallpaper` - 壁纸设置功能

### 开发依赖
- `electron-builder` - 应用打包
- `concurrently` - 并发运行脚本
- `cross-env` - 跨平台环境变量
- `wait-on` - 等待服务启动

## 🌐 API 数据源

应用从以下 API 获取壁纸数据：
```
https://gh-proxy.com/https://raw.githubusercontent.com/moelylink/wallpaper-api/refs/heads/main/wallpaper.json
```

## 🎨 界面预览

- **3D轮播效果**：流畅的壁纸切换动画
- **粒子背景**：动态粒子效果增强视觉体验
- **现代化UI**：简洁美观的用户界面
- **响应式布局**：适配不同屏幕尺寸

## 🐛 问题排查

### 常见问题

1. **壁纸设置失败**
   - 检查应用是否有设置壁纸的权限
   - 确认图片文件完整且未损坏

2. **网络连接问题**
   - 检查网络连接是否正常
   - 应用会自动重试，请耐心等待

3. **缓存问题**
   - 使用缓存管理功能清理缓存
   - 重新启动应用

## 📄 许可证

本项目采用 GPL-3 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 👨‍💻 作者

[萌哩（moely）](https;//www.moely.link/) - 致力于为二次元爱好者提供优质壁纸体验

---

⭐ 如果这个项目对你有帮助，请给它一个星标！
